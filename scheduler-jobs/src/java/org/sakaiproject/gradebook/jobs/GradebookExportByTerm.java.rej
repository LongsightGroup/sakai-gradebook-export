***************
*** 117,126 ****
  					log.info("No assignments for site: " + siteId + ", skipping.");
  					continue;
  				}
- 				log.debug("Assignments size: " + assignments.size());
  
  				//get course grades. This uses entered grades preferentially
- 				Map<String, String> courseGrades = gradebookService.getImportCourseGrade(gradebook.getUid()); 
  
  				//get any categories
  				categoryDefinitions = gradebookService.getCategoryDefinitions(siteId);
--- 118,128 ----
  					log.info("No assignments for site: " + siteId + ", skipping.");
  					continue;
  				}
+ 				log.debug("Assignments size: {}", assignments.size());
  
  				//get course grades. This uses entered grades preferentially
+ 				final Set<String> userUuids = siteService.getSite(siteId).getUsersIsAllowed("section.role.student");
+ 				Map<String, CourseGrade> courseGrades = gradebookService.getCourseGradeForStudents(gradebook.getUid(), new ArrayList<String> (userUuids));
  
  				//get any categories
  				categoryDefinitions = gradebookService.getCategoryDefinitions(siteId);
